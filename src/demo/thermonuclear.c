#include "demo.h"

static const wchar_t map[] =
L"⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿"
 "⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡿⢿⣿⣿⣿⣿⣿⡿⡟⠛⠛⢿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿"
 "⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⠿⠏⠀⠀⠀⢈⣿⠿⡟⠟⠀⠀⢠⡤⣤⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿"
 "⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡿⢻⣄⣀⠀⠀⣰⡟⠃⠀⠀⠀⠀⠀⠀⠀⠀⢉⣠⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡿⢻⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿"
 "⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣷⡄⢹⠅⢀⣴⣿⠆⠀⠀⠀⠀⠀⠀⠀⠀⠀⢹⣿⣿⣿⣿⣿⣿⡟⠛⢦⣤⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣷⣀⡿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿"
 "⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡿⣿⣿⣿⣿⣿⣷⡗⠄⣰⣿⡤⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣸⣿⣿⣿⣿⣿⣿⣿⣤⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿"
 "⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣛⣿⣿⣯⣿⡟⠿⠷⣾⣿⣿⣶⣦⡀⠀⠀⠀⠀⠀⠀⠀⣹⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡿⣿⣽⣿⣿⣿⣿⣿⠟⠋⠁⠈⢉⣿⣿⣿⣿⣿⣟⣛⣿⣿⣿⣿⣿⣿⣿⣿⣿"
 "⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⠏⡩⠿⣿⣿⡿⣿⣽⢿⢟⣿⣿⣿⣿⣿⣷⠀⠀⠀⠀⠀⠀⢠⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣾⣿⣿⡿⣿⣿⠛⠃⠀⠀⠀⠀⠙⠛⠿⠟⢻⣿⣿⠿⢿⣿⣿⣿⣿⣿⣿⣿⣿"
 "⣿⣿⣿⠟⠛⠿⠿⢿⣿⣿⢿⣷⣿⡵⠈⡘⣿⣟⣻⣦⢀⣄⠉⠻⣿⣿⣿⡲⠀⠀⠀⠀⠀⣷⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⢿⣿⣿⣿⣿⣿⣷⣿⡿⣿⡉⡋⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠙⠋⠉⠁⠀⠙⠛⣿⣿⣿⠿⣿⣿"
 "⢿⣿⢧⠀⠀⠀⠀⢸⠈⠀⠀⣠⣬⠛⠛⠙⠛⠋⠈⢻⣼⣿⡷⢈⡹⣿⣿⠅⠀⠀⢀⣴⣿⣿⣿⢿⣿⣿⣿⣿⣿⣿⡟⢉⣇⢕⢄⣙⣿⠿⠋⠋⠉⠈⢣⡟⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⠀⢈⡛"
 "⣾⣿⡶⠇⠀⠀⠀⢸⠀⠀⠀⠈⠁⣄⡤⠀⠀⠀⣴⣾⣿⣿⣿⣼⣿⣿⣿⣇⠀⣼⣿⣿⣿⣿⣦⣾⣿⣿⣿⣿⡿⢻⢠⣾⠋⣱⢘⠛⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⡀⡀⠀⢀⣻⣿"
 "⣿⣿⣷⣤⣴⣿⣷⣾⣶⡄⠀⠀⠈⠉⠴⠄⠀⠸⣿⣿⣿⣟⠀⠻⠿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣧⣾⢬⣿⣾⡛⠋⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⣠⣦⣶⣾⣿⣷⣷⣿⣿⣿"
 "⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣅⠀⠀⠀⠀⠀⢠⣄⠀⠉⢻⡟⠀⠀⠀⠙⢿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⠿⣿⡿⠋⡟⠻⣵⣓⣄⠀⠀⠀⢀⠀⣤⠔⠲⠴⡂⠀⠀⠀⢀⢀⣠⠆⠀⢠⢄⠀⠐⠿⣿⣿⣿⣏⣼⣿⣿⣿⣿⣿"
 "⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡷⠒⠒⠒⠒⠒⠻⣤⣦⡄⠁⠀⣰⢶⣾⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣟⠛⣷⣼⣯⣶⠥⣌⣈⡳⠀⢿⣁⢉⠉⠀⠀⠀⠈⣵⠮⡉⠚⠙⠉⠒⠲⣎⠀⠳⡤⢀⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿"
 "⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡇⠀⠠⡄⠀⠀⠀⠀⠾⠿⢓⢩⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡿⢛⣶⣾⣾⣿⣿⣶⡿⠿⠷⢦⣿⣿⠿⢵⢲⣴⣖⠾⠁⠀⠉⠓⠢⠤⠚⠉⣠⣀⣴⣷⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿"
 "⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣤⡀⠀⠀⠀⠀⠀⠀⠀⣸⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⠗⢞⠛⢻⡿⣿⣷⣿⣶⣶⣖⠞⡏⠙⠉⡶⠛⣿⣿⣄⠀⠀⠀⠀⠀⠀⠀⠀⢽⣿⣿⣿⣯⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿"
 "⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣍⠑⠢⣶⣶⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡿⣿⣊⡁⠀⠠⡇⠉⠁⡏⠉⢿⡁⠑⠻⣧⣄⣻⣊⣴⠃⠙⠵⣶⣔⢶⠀⠀⠀⠀⣸⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿"
 "⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣷⣄⣻⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣟⠃⣸⠈⣱⠔⠊⡏⠒⡏⠉⠉⣷⣄⡠⣝⣻⣿⣿⣷⡆⢀⣠⣾⣿⣸⡿⣷⣶⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿"
 "⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣷⣿⣿⢿⡿⠿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣟⡼⣭⣿⠑⣩⣇⠼⣦⠤⡾⠉⠿⣿⣿⣿⣿⣿⣿⣷⣸⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿"
 "⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⠿⣀⡼⠔⠹⠟⠻⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣾⢶⣷⠓⠉⣹⣮⠒⣾⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡿⢟⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿"
 "⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣏⢔⣁⡀⠀⠀⠀⠀⠁⢙⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⠳⢤⡀⡿⡁⢹⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣾⣿⣿⣿⣿⣿⣿⣷⣯⣿⣿⣿⣿⣿⣿⣿⣿⣿"
 "⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣦⣮⠉⣢⡀⠀⠀⠀⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⠤⢼⣭⡝⣿⣽⣿⢿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡿⠛⠉⠛⠟⣿⣿⣿⣿⣿⣿⣿⣿⣿"
 "⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⠛⢒⣷⡄⣴⣾⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣇⣏⠴⢻⣼⣿⣿⣾⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡏⠁⠀⠀⠀⠀⠀⠀⢻⣿⣿⣿⣿⣿⣿⣿"
 "⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡇⠀⢠⣛⣴⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣥⣬⣷⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣠⣤⣴⣦⣀⠀⠀⣰⣿⣿⣿⣿⣿⣿⣿"
 "⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⠇⣤⣶⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣷⣶⣿⣿⣿⣿⣿⣿⣿⣿"
 "⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣟⠷⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿"
 "⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⢼⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿"
 "⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿"
;

int thermonuclear_demo(struct notcurses* nc){
  struct ncplane* n = notcurses_stdplane(nc);
  int dimx, dimy;
  ncplane_dim_yx(n, &dimy, &dimx);
  const int width = 80;
  assert(0 == wcslen(map) % width);
  if((int)wcslen(map) / width > dimy){
    return -1;
  }
  if(width > dimx){
    return -1;
  }
  for(size_t y = 0 ; y < wcslen(map) / width ; ++y){
    wchar_t lbuf[width + 1];
    memcpy(lbuf, map + y * width, width * sizeof(*lbuf));
    lbuf[width] = L'\0';
    ncplane_putwstr_aligned(n, y, NCALIGN_CENTER, lbuf);
  }
  notcurses_render(nc);
  nanosleep(&demodelay, NULL);
  return 0;
}
